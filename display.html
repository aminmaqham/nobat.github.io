<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نمایشگر نوبت</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="display.css">
    
    <!-- پشتیبانی از فول‌اسکرین در مرورگرهای مختلف -->
    <style>
        /* استایل‌های اضافی برای پشتیبانی بهتر */
        .no-backdrop-support {
            display: none;
        }
        
        @supports not (backdrop-filter: blur(10px)) {
            .no-backdrop-support {
                display: block;
                position: fixed;
                top: 10px;
                left: 10px;
                background: rgba(255, 0, 0, 0.8);
                color: white;
                padding: 10px;
                border-radius: 5px;
                font-size: 12px;
                z-index: 10000;
            }
        }
    </style>
</head>
<body>
    <!-- هشدار برای مرورگرهای قدیمی -->
    <div class="no-backdrop-support">
        برای تجربه بهتر، از مرورگر جدیدتر استفاده کنید
    </div>
    
    <div class="container">
        <!-- بخش اصلی نمایش نوبت‌ها -->
        <div class="main-display">
            <header class="display-header">
                <h1 class="system-title">سیستم نوبت دهی هوشمند</h1>
                <div class="waiting-count">آخرین نوبت‌های فراخوانده شده</div>
            </header>
            
            <div class="tickets-container">
                <!-- نوبت‌ها اینجا نمایش داده می‌شوند -->
                <div class="ticket-card placeholder">
                    <div class="ticket-number">---</div>
                    <div class="ticket-info">منتظر فراخوان...</div>
                    <div class="ticket-time">--:--</div>
                </div>
            </div>
        </div>

        <!-- بخش لیست عکاسی -->
        <div class="photography-display">
            <div class="photography-header">
                <h2>لیست عکاسی</h2>
                <div class="photography-waiting">منتظران: ۰</div>
            </div>
            <div class="photography-list">
                <!-- لیست عکاسی اینجا نمایش داده می‌شود -->
                <div class="photography-empty">هیچ نوبتی در لیست عکاسی وجود ندارد</div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/appwrite@11.0.0"></script>
    <script src="display.js"></script>
    
    <script>
        // اتوماتیک فول‌اسکرین هنگام لود صفحه با پشتیبانی کامل
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const docElement = document.documentElement;
                
                if (docElement.requestFullscreen) {
                    docElement.requestFullscreen().catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                } else if (docElement.webkitRequestFullscreen) {
                    docElement.webkitRequestFullscreen();
                } else if (docElement.mozRequestFullScreen) {
                    docElement.mozRequestFullScreen();
                } else if (docElement.msRequestFullscreen) {
                    docElement.msRequestFullscreen();
                }
            }, 1000);
        });

        // امکان فول‌اسکرین با F11
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F11') {
                e.preventDefault();
                const docElement = document.documentElement;
                
                if (docElement.requestFullscreen) {
                    docElement.requestFullscreen().catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                } else if (docElement.webkitRequestFullscreen) {
                    docElement.webkitRequestFullscreen();
                } else if (docElement.mozRequestFullScreen) {
                    docElement.mozRequestFullScreen();
                } else if (docElement.msRequestFullscreen) {
                    docElement.msRequestFullscreen();
                }
            }
        });
    </script>
</body>
</html>